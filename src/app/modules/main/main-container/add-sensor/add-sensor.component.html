<h2 mat-dialog-title>
    <mat-icon class="align-sub">add</mat-icon>
    Añadir sensor
</h2>
<mat-dialog-content>
    <div class="flex  gap-3 flex-col" [formGroup]="device">
        <div class="flex items-center gap-3 flex-grow">
            <mat-form-field class="flex-grow">
                <mat-label>Sensores</mat-label>
                <mat-select formControlName="id">
                    @for (sensor of sensors; track sensor) {
                        <mat-option [value]="sensor.id">{{ sensor.id }} - {{ sensor.temperature }}ºC</mat-option>
                    }
                </mat-select>
                <mat-error *appFormError="let error from 'Sensores'">{{ error }}</mat-error>
            </mat-form-field>
            <button mat-icon-button (click)="getSensors()">
                <mat-icon>refresh</mat-icon>
            </button>
        </div>
        <mat-form-field class="flex-grow">
            <mat-label>Nombre</mat-label>
            <input matInput type="text" formControlName="name">
            <mat-error *appFormError="let error from 'Nombre'">{{ error }}</mat-error>
        </mat-form-field>
    </div>

</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-button mat-dialog-close color="warn">Cancelar</button>
    <button mat-flat-button color="primary" class="rounded" (click)="registerSensor()" [disabled]="device.invalid">
        <mat-icon>add</mat-icon>
        Añadir
    </button>
</mat-dialog-actions>
